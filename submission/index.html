

<!doctype html>
<html lang="zh" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>提交流程 - CMRC 2017</title>







<meta property="og:locale" content="zh">
<meta property="og:site_name" content="CMRC 2017">
<meta property="og:title" content="提交流程">


  <link rel="canonical" href="http://ymcui.github.io/cmrc2017/submission/">
  <meta property="og:url" content="http://ymcui.github.io/cmrc2017/submission/">







  

  










  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://ymcui.github.io/cmrc2017",
      "logo": "http://ymcui.github.io/cmrc2017/images/"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Chinese Machine Reading Comprehension",
      "url" : "http://ymcui.github.io/cmrc2017",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://ymcui.github.io/cmrc2017/feed.xml" type="application/atom+xml" rel="alternate" title="CMRC 2017 Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://ymcui.github.io/cmrc2017/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="57x57" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="http://ymcui.github.io/cmrc2017/images/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="http://ymcui.github.io/cmrc2017/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="http://ymcui.github.io/cmrc2017/images/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="http://ymcui.github.io/cmrc2017/images/manifest.json">
<link rel="mask-icon" href="http://ymcui.github.io/cmrc2017/images/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-TileImage" content="http://ymcui.github.io/cmrc2017/images/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://ymcui.github.io/cmrc2017/">CMRC 2017</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/task">任务介绍</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/dates">重要时间</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/submission">提交流程</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/leaderboard">系统排名</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/program/">大会议程</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://ymcui.github.io/cmrc2017/committee">评测委员会</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://www.cips-cl.org/static/CCL2017/home.html">CCL2017主会</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    





<div id="main" role="main">
  



  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="提交流程">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">提交流程
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
<h2 id="section">总览</h2>

<p>开发集/测试集系统提交时间如下表所示。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">事件</th>
      <th style="text-align: center">时间</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">提交系统验证开发集</td>
      <td style="text-align: center">2017年7月13日 ~ 2017年8月13日</td>
    </tr>
    <tr>
      <td style="text-align: left">提交系统验证测试集</td>
      <td style="text-align: center">2017年8月14日 ~ 2017年8月18日</td>
    </tr>
  </tbody>
</table>

<p>本次系统提交使用的是<a href="http://codalab.org">CodaLab在线提交系统</a>。参赛队伍需要在上述时间点内提交对应的系统。下面对CodaLab在线提交系统给出使用说明。<br />
<strong>请各参赛队伍预留充分的时间熟悉Codalab提交系统！</strong><br /></p>

<h2 id="tutorial">官方Tutorial</h2>

<p>请参考：<a href="https://github.com/codalab/codalab-worksheets/wiki">https://github.com/codalab/codalab-worksheets/wiki</a></p>

<h2 id="codalab">注册Codalab账户</h2>
<p>请根据实际情况填写注册表单，注册流程不再赘述。<br />
链接：<a href="https://worksheets.codalab.org/account/signup">https://worksheets.codalab.org/account/signup</a><br />
注册完毕后请将用户名发给评测会务组，以便加入到特定的group中。<br /></p>

<h2 id="section-1">上传代码&amp;源程序</h2>
<p>以下以random guess为tutorial，请参考（需加入到group才有权限访问）：<a href="https://worksheets.codalab.org/worksheets/0xf08b89f5a3ea46909831b027ba76aa76/">https://worksheets.codalab.org/worksheets/0xf08b89f5a3ea46909831b027ba76aa76/</a> <br />
请勿直接在该worksheet中运行程序，需按照下面的步骤复制到自己的worksheet中。<br /></p>

<p>1）注册完毕之后，登陆到系统中。点击右上角的My Dashboard<br />
<img src="../images/submission/1.jpg" alt="image" /><br /></p>

<p>2）新建一个Worksheet，名称可以根据实际情况填写<br />
<img src="../images/submission/2-1.jpg" alt="image" /><br />
<img src="../images/submission/2-2.jpg" alt="image" /><br /></p>

<p>3）进入到新建的worksheet，首先设置该worksheet的权限<br />
<strong>【注意】请一定在上传任何数据之前设置权限，否则可能导致源代码泄露！具体权限请参考会务组邮件！</strong><br /></p>

<p>4）点击右侧的Upload上传参赛系统（支持zip文件，上传后自动解压缩）<br />
<img src="../images/submission/4.jpg" alt="image" /><br /></p>

<p>5）复制官方的开发集文件、评测文件<br />
【填空类】<br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cl add bundle 0xee779734bcca4ab1b7acfed3c615f984 .
cl add bundle 0x731b40697bf7433295e0e07674a69498 .
</code></pre>
</div>

<p>【用户提问类】<br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cl add bundle 0x70088f476cbb4c529abf00532797436f .
cl add bundle 0xa40067c4085d4b5fbd00875a98c0b7b2 .
</code></pre>
</div>

<p>【评测文件】<br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cl add bundle 0xc7aaa53ba65b45c4b56c47f94322c4d8 .
</code></pre>
</div>

<p>6）运行测试程序<br />
在本例中我们使用如下命令，<br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cl run cloze.valid.doc_query:cloze.valid.doc_query random_guess.py:random_guess.py "python random_guess.py cloze.valid.doc_query predictions.out" -n run-predictions
</code></pre>
</div>

<p>如果需要其他依赖，可在命令中添加<br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image tboquet/kenacuthe7hc5
</code></pre>
</div>

<p>其中<code class="highlighter-rouge">tboquet/kenacuthe7hc5</code>可替换成自己需要的环境，该包中提供了常见的深度学习所使用的库。<br />
选择适合自己程序的环境包：<a href="https://github.com/codalab/codalab-worksheets/wiki/Execution#overview-how-the-worker-system-works">https://github.com/codalab/codalab-worksheets/wiki/Execution#overview-how-the-worker-system-works</a> <br /></p>

<p><strong>常用的docker请参考最下方的“常用Docker”一栏。</strong> <br /></p>

<p>7）等待程序运行 <br />
正常情况下显示：<code class="highlighter-rouge">running</code> <br />
非正常情况显示：<code class="highlighter-rouge">failed</code> <br />
如果出错，则根据stderr的输出对自己的程序进行debug。 <br /></p>

<p>8）程序运行完成后会显示为：<code class="highlighter-rouge">ready</code> <br />
<img src="../images/submission/8.jpg" alt="image" /><br /></p>

<p>9）输入如下命令进行开发集的预测 <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cl make run-predictions/predictions.out -n predictions-dev.out
cl run predictions-dev.out:predictions-dev.out cloze.valid.answer:cloze.valid.answer evaluate.py:evaluate.py "python evaluate.py predictions-dev.out cloze.valid.answer" 
</code></pre>
</div>

<p>10）运行结束后，右侧会显示预测结果，如下图 <br />
<img src="../images/submission/10.jpg" alt="image" /><br /></p>

<h2 id="docker">常用Docker</h2>
<p>Codalab上需要加载自己的环境文件，现在有一些共享的环境供大家参考。 <br />
或者大家也可自行在http://hub.docker.com 中搜索自己需要的环境&amp;版本。 <br />
<img src="../images/submission/d1.jpg" alt="image" /><br /></p>

<p>以下是常用的docker（根据大家上报的环境依赖调查，以下命令加在运行测试脚本时）： <br />
<strong>1）Theano + Keras</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image tboquet/kenacuthe7hc5
</code></pre>
</div>

<p><strong>2）Tensorflow</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image tensorflow/tensorflow
</code></pre>
</div>

<p><strong>3）CNTK</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image microsoft/cntk
</code></pre>
</div>

<p><strong>4）PyTorch</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image floydhub/pytorch
</code></pre>
</div>

<p><strong>5）LTP</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image scorpio147wbh/ltp
</code></pre>
</div>

<p><strong>6）Anaconda</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image continuumio/anaconda
</code></pre>
</div>

<p><strong>7）Tensorlayer</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image gmueller/tensorlayer
</code></pre>
</div>

<p><strong>8）Torch</strong> <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image kaixhin/torch
</code></pre>
</div>

<h2 id="section-2">提交开发集/测试集系统</h2>

<p>为了确保系统能够在测试集上正常运行，需要参赛队伍在正式测试之前将开发集验证系统提交给评测方。各参赛队伍需要向评测委员会提供如下内容： <br />
1）系统所在的worksheet的UUID <br />
2）能够顺利跑通参赛系统的命令行（以cl run开头的命令），即输出预测结果 <br />
请将上述内容通过邮件（cmrc2017@126.com）发送给评测会务组。 <br />
另外，需要注意： <br />
1）与答案预测程序关联的bundle需对会务组可见； <br />
2）参赛单位只需提供输出答案的命令，不需要对结果进行评价（即使用<code class="highlighter-rouge">evaluate.py</code>）。故请参赛单位不要把预测答案和评价写在同一个脚本中，这两步是需要分步进行的步骤。 <br /></p>

<h2 id="section-3">常见问题（持续更新中）</h2>

<p><strong>1、python程序报import错误</strong> <br />
答：请尽量自包含需要的Python包。或者使用已有的docker文件。例如需要ltp，则在http://hub.docker.com中搜索ltp，如下图 <br />
<img src="../images/submission/d2.jpg" alt="image" /><br />
然后在运行测试程序的命令中加入 <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>--request-docker-image scorpio147wbh/ltp
</code></pre>
</div>

<p><strong>2、无法加载多个docker</strong> <br />
答：为了保证环境的一致性，Codalab无法加载多个docker。如对环境版本要求严格，请自行配置docker并上传到<code class="highlighter-rouge">hub.docker.com</code>上，并在使用时加载对应的docker。 <br /></p>

<p><strong>3、如何使用GPU资源</strong> <br />
答：Codalab上提供了M60 GPU的支持，只需在运行命令中加入<code class="highlighter-rouge">--request-gpus 1</code>。 <br /></p>

<h2 id="section-4">联系我们</h2>
<p>如运行中出现问题，请联系我们：cmrc2017 [at] 126 [dot] com</p>

        
      </section>

      <footer class="page__meta">
        
        




        
      </footer>

      

      


    </div>

    
  </article>

  
  
</div>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
    
    
    
    
    
    <!--<li><a href="http://ymcui.github.io/cmrc2017/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> </a></li>-->
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Chinese Machine Reading Comprehension.  <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://ymcui.github.io/cmrc2017/assets/js/main.min.js"></script>








  </body>
</html>

